<div class="container-fluid">
  <div class="row mrg-btm-15 border-radius-4 border-white border-danger">
    <div class="col-lg-4 text-center">
      <form [formGroup]="dateForm" (submit)="search()">
        <div class="input-group">
          <input type="text" class="form-control input-sm bg-white" formControlName="start" ngbDatepicker
            #d1="ngbDatepicker" (click)="d1.toggle()"
            [class.error]="submitted && dateForm.get('start').status === 'INVALID'" readonly />
          <input type="text" class="form-control input-sm bg-white" formControlName="end" ngbDatepicker
            #d2="ngbDatepicker" (click)="d2.toggle()"
            [class.error]="submitted && dateForm.get('end').status === 'INVALID'" readonly />
          <div class="input-group-append">
            <button class="btn btn-info btn-sm m-0" type="submit">
              <i class="fa fa-search"></i>
            </button>
            <button class="btn btn-dark btn-sm" type="button" (click)="resetForm()">
              <i class="fa fa-refresh"></i>
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>

  <div class="row justify-content-center mrg-top-15">
    <div class="col-lg-12">
      <div class="card" style="overflow: hidden;">
        <div class="tab-info">
          <ul class="nav nav-tabs" role="tablist">
            <li class="nav-item">
              <a href="#tab-summary" class="nav-link active" role="tab" data-toggle="tab">
                COMPTE DE RESULTAT
              </a>
            </li>
          </ul>
          <div class="tab-content">
            <div role="tabpanel" class="tab-pane fade in active" id="tab-summary">
              <div class="padding-30">
                <div class="row justify-content-center">
                  <div class="col-lg-9">
                    <table class="table table-bordered">
                      <thead>
                        <tr>
                          <th class="border">RUBRIQUES</th>
                          <th class="border width-15"></th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td>Chiffres d'affaires (70)</td>
                          <td class="text-right">{{summary?.C_70 | currency:'MGA':''}}</td>
                        </tr>
                        <tr>
                          <td>Production stockée (71)</td>
                          <td class="text-right">{{summary?.C_71 | currency:'MGA':''}}</td>
                        </tr>
                        <tr>
                          <td>Production immobilisée (72)</td>
                          <td class="text-right">{{summary?.C_72 | currency:'MGA':''}}</td>
                        </tr>
                        <tr>
                          <th>I - PRODUCTION DE L'EXERCICE</th>
                          <th class="text-right border">{{summary?.one | currency:'MGA':''}}</th>
                        </tr>
                        <tr>
                          <td>Achats consommés (60)</td>
                          <td class="text-right">{{summary?.C_60 | currency:'MGA':''}}</td>
                        </tr>
                        <tr>
                          <td>Variations de stocks (603)</td>
                          <td class="text-right">{{summary?.C_603 | currency:'MGA':''}}</td>
                        </tr>
                        <tr>
                          <td>Services extérieurs et autres consommations (61 - 62)</td>
                          <td class="text-right">{{summary?.C_61 + summary?.C_62 | currency:'MGA':''}}</td>
                        </tr>
                        <tr>
                          <th>II - CONSOMMATION DE L'EXERCICE</th>
                          <th class="text-right border">{{summary?.two | currency:'MGA':''}}</th>
                        </tr>
                        <tr>
                          <th>III - VALEUR AJOUTEE D'EXPLOITATION (I - II)</th>
                          <th class="text-right border">{{summary?.three | currency:'MGA':''}}</th>
                        </tr>
                        <tr>
                          <td>Subvention d'exploitation (74)</td>
                          <td class="text-right">{{summary?.C_74 | currency:'MGA':''}}</td>
                        </tr>
                        <tr>
                          <td>Charges de personnel (64)</td>
                          <td class="text-right">{{summary?.C_64 | currency:'MGA':''}}</td>
                        </tr>
                        <tr>
                          <td>Impôt, taxes et versements assimilés (63)</td>
                          <td class="text-right">{{summary?.C_63 | currency:'MGA':''}}</td>
                        </tr>
                        <tr>
                          <th>IV - EXCEDENT BRUT D'EXPLOITATION</th>
                          <th class="text-right border">{{summary?.four | currency:'MGA':''}}</th>
                        </tr>
                        <tr>
                          <td>Autres produits opérationnels (75)</td>
                          <td class="text-right">{{summary?.C_75 | currency:'MGA':''}}</td>
                        </tr>
                        <tr>
                          <td>Autres charges opérationnelles (65)</td>
                          <td class="text-right">{{summary?.C_65 | currency:'MGA':''}}</td>
                        </tr>
                        <tr>
                          <td>Dotation aux amortissements, aux provisions et poertes de valeur (68)</td>
                          <td class="text-right">{{summary?.C_68 | currency:'MGA':''}}</td>
                        </tr>
                        <tr>
                          <td>Reprise sur provisions et pertes de valeurs (781)</td>
                          <td class="text-right">{{summary?.C_781 | currency:'MGA':''}}</td>
                        </tr>
                        <tr>
                          <th>V - RESULTAT OPERATIONNEL</th>
                          <th class="text-right border">{{summary?.five | currency:'MGA':''}}</th>
                        </tr>
                        <tr>
                          <td>Produits financiers (76)</td>
                          <td class="text-right">{{summary?.C_76 | currency:'MGA':''}}</td>
                        </tr>
                        <tr>
                          <td>Charges financières (66)</td>
                          <td class="text-right">{{summary?.C_66 | currency:'MGA':''}}</td>
                        </tr>
                        <tr>
                          <td>Reprises financières (786)</td>
                          <td class="text-right">{{summary?.C_786 | currency:'MGA':''}}</td>
                        </tr>
                        <tr>
                          <th>VI - RESULTAT FINANCIER</th>
                          <th class="text-right border">{{summary?.six | currency:'MGA':''}}</th>
                        </tr>
                        <tr>
                          <th>VII - AVANT IMPÖTS (V - VI)</th>
                          <th class="text-right border">{{summary?.seven | currency:'MGA':''}}</th>
                        </tr>
                        <tr>
                          <td>Impôts exigibles sur résultats (695)</td>
                          <td class="text-right">{{summary?.C_695}}</td>
                        </tr>
                        <tr>
                          <td>Impôts différés (Variations) (692 - 693)</td>
                          <td class="text-right">{{summary?.C_692 + summary?.C_693 | currency:'MGA':''}}</td>
                        </tr>
                        <tr>
                          <td><i>TOTAL PRODUITS DES ACTIVITES ORDINAIRES (&sum; classe 7)</i></td>
                          <td class="text-right">{{summary?.class_7 | currency:'MGA':''}}</td>
                        </tr>
                        <tr>
                          <td><i>TOTAL CHARGES DES ACTIVITES ORDINAIRES (&sum; classe 6)</i></td>
                          <td class="text-right">{{summary?.class_6 | currency:'MGA':''}}</td>
                        </tr>
                        <tr>
                          <th>VIII - RESULTAT NET DES ACTIVITES ORDINAIRES</th>
                          <th class="text-right border">{{summary?.eight | currency:'MGA':''}}</th>
                        </tr>
                        <tr>
                          <td>Élements extraordinaires (produits) (77)</td>
                          <td class="text-right">{{summary?.C_77 | currency:'MGA':''}}</td>
                        </tr>
                        <tr>
                          <td>Élements extraordinaires (charges) (67)</td>
                          <td class="text-right">{{summary?.C_67 | currency:'MGA':''}}</td>
                        </tr>
                        <tr>
                          <th>IX - RESULTAT EXTRAORDINAIRE</th>
                          <th class="text-right border">{{summary?.nine | currency:'MGA':''}}</th>
                        </tr>
                        <tr>
                          <th>X - RESULTAT NET DE L'EXERCICE (VIII &plusmn; IX)</th>
                          <th class="text-right border">{{summary?.ten | currency:'MGA':''}}</th>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>

              <div class="border top pdd-horizon-30 pdd-vertical-15">
                <div class="row">
                  <div class="col">
                    <button type="button" class="btn btn-dark mb-0" (click)="print()">
                      <i class="fa fa-print"></i></button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #tpl let-r="result" let-t="term">
  <ngb-highlight [result]="r.name" [term]="t"></ngb-highlight>
</ng-template>
